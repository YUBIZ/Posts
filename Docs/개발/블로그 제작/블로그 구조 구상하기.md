---
Title: 블로그 구조 구상하기
Tags: [Blazor, Blazor WebAssembly, GitHub, GitHub Pages]
---

# 개요

블로그를 제작하기 전에 전체적인 구조를 먼저 구상해야 합니다.\
우선적으로 고려할 요소는 필수적인 UI와 리소스입니다.\
블로그의 본질이 글을 공유하는 공간인 만큼, 게시글 목록과 게시글 보기 이 두 기능을 가장 먼저 구현하기로 했습니다.

# UI

Blazor에서는 현재 페이지와 별도로 레이아웃을 구성할 수 있습니다.\
쉽게 말해, 액자식 구조로 만들 수 있다는 뜻입니다.\
레이아웃은 액자의 테두리 역할을 하며, 페이지는 그 안의 내용물이 됩니다.\
이를 활용하면 고정적인 콘텐츠를 레이아웃에 삽입하여 페이지가 변경되더라도 지속적으로 표시할 수 있습니다.

## 레이아웃

먼저 PC 버전의 레이아웃을 구상해 보았습니다.\
사이드바에는 프로필, 바로가기 버튼 목록, 그리고 게시글 카테고리 목록을 배치하고, 나머지 영역에는 페이지 콘텐츠를 표시합니다.\
콘텐츠 영역의 아래에는 푸터를 배치하여 블로그의 추가 정보를 제공하도록 합니다.

![레이아웃 구상 이미지](</Images/개발/블로그 제작/블로그 구조 구상하기/레이아웃 구상.svg>)

블로그의 기본 형태는 위 이미지처럼 제작할 계획입니다.

## 페이지

블로그에는 기본적으로 두 개의 페이지가 필요합니다.\
하나는 전체 게시글 목록을 보여주는 메인 페이지, 다른 하나는 선택한 게시글의 내용을 보여주는 게시글 페이지입니다.\
초기에는 메인 페이지에서 게시글 목록을 제공하고, 목록에서 원하는 게시글을 선택하면 게시글 페이지로 이동하는 구조로 구현할 예정입니다.

###  게시글 목록

![게시글 목록 구상 이미지](</Images/개발/블로그 제작/블로그 구조 구상하기/게시글 목록 구상.svg>)

사이드바에서 카테고리를 선택하면 해당 카테고리에 속한 게시글 목록을 필터링하여 보여주도록 합니다.

게시글 목록 페이지는 위와 같은 형태로 구성하며, 각 요소는 개별 컴포넌트로 제작할 계획입니다.

### 게시글 뷰

![게시글 뷰 구상 이미지](</Images/개발/블로그 제작/블로그 구조 구상하기/게시글 뷰 구상.svg>)

게시글 목록에서 게시글 카드를 클릭하면 해당 게시글 페이지로 이동합니다.\
게시글 내용이 길어 화면을 넘어가는 경우 스크롤을 사용할 수 있도록 하고, 푸터는 게시글의 최하단에 위치하도록 배치합니다.

이제 UI 구상이 마무리되었으므로, 다음으로 게시글과 각종 리소스를 어떻게 관리하고 불러올지 고민해 보겠습니다.

# 리소스

이제 UI에 표시할 게시글이 필요합니다.\
게시글 작성 포맷으로는 마크다운을 사용하기로 했습니다.\
현재 이 글도 마크다운으로 작성하고 있는데요, 마크다운은 HTML로 변환하기 쉽고 문서 작성에 최적화된 포맷이기 때문에 블로그에 적합하다고 판단했습니다.

## 관리

일단 리소스를 어디에 저장할지 고민했고, 두 가지 방법을 생각했습니다.\
첫 번째는 GitHub Pages 배포 시 모든 리소스를 포함하는 방식이었으나, Blazor WebAssembly의 특성상 클라이언트가 무거워질 가능성이 있어 포기했습니다.\
대신 두 번째 방법인 별도의 GitHub 저장소를 생성하여 관리하는 방식을 선택했습니다.

![리소스 관리 구상 이미지](</Images/개발/블로그 제작/블로그 구조 구상하기/리소스 관리 구상.svg>)

GitHub는 REST API를 제공하며, 이를 통해 저장소의 데이터를 불러오고 다양한 상호작용을 할 수 있습니다.\
하지만 인증 토큰 없이 요청할 경우 시간당 60회로 제한되는 문제가 있었습니다.\
보안 문제 없이 인증 토큰을 처리할 방법을 찾지 못해, 다른 방법을 이용하여 해결했습니다.

GitHub REST API의 기본 주소는 `https://api.github.com`이며, 이 주소로 API를 사용하면 요청 제한이 적용됩니다.\
그러나 `https://raw.githubusercontent.com`를 사용하면 요청 제한을 받지 않는다는 것을 알았습니다.\
실제로 `https://api.github.com/rate_limit` API를 통해 요청 트래픽을 확인해 본 결과, `https://api.github.com`을 사용할 때는 요청 가능 횟수가 줄어들었지만, `https://raw.githubusercontent.com`을 사용할 때는 영향을 받지 않았습니다.

`https://raw.githubusercontent.com`의 또 다른 장점은 콘텐츠를 Raw 형식으로 반환한다는 점입니다.\
`https://api.github.com`을 사용하면 Base64로 인코딩된 데이터를 반환하기 때문에 별도의 디코딩 과정이 필요합니다.

향후 보안 문제 없이 인증 토큰을 처리할 방법을 찾으면 개선할 계획입니다.

## 목록화

게시글을 참조하기 위해서는 전체 게시글 목록을 알아야합니다.\
GitHub REST API에는 저장소의 전체 파일 목록을 가져오는 엔드포인트를 제공하지만 앞서 언급한대로 인증 토큰 문제로 사용할 수 없습니다.\
그렇기에 리소스 저장소에 미리 작성해둔 게시글 파일 목록을 보관할 생각입니다.\
하지만 직접 파일 목록을 작성하는건 너무 수고스럽기에, 자동화 스크립트와 GitHub Actions를 이용할겁니다.

GitHub Actions는 CI/CD를 위한 GitHub의 기능으로, 다양한 워크플로우 작성하여 실행할 수 있습니다.\
쉽게 말해, 스크립트 실행같은 작업을 자동으로 시켜주는 기능입니다.\
GitHub Actions는 자동화 스크립트를 다룰 때 더 자세히 얘기하도록 하겠습니다.

## 참조 문제

게시글 내부 리소스(게시글 내 이미지 요소 등) 참조로 문제가 하나 있는데, 클라이언트에서 게시글을 표시하면, 내부 리소스는 클라이언트의 루트 디렉토리를 기준으로 참조합니다.\
하지만 클라이언트에는 리소스가 존재하지 않기 때문에 리소스를 가져오지 못합니다.\
그렇기에 게시글을 보여주기 전, 리소스 URI를 API 요청으로 변환하여 리소스를 참조하도록 합니다.

# 마무리

이번에는 블로그를 제작하기 앞서 기본 구조를 구상해봤습니다.\
블로그의 기본 생김새와 리소스 관리에 대해 생각해봤는데요, 인증 토큰 문제로 API 관련 사항을 가장 많이 찾아본 것 같습니다.

다음 게시글에서는 UI와 저장소를 구성할겁니다.

# 참고

-   [GitHub REST API Docs](https://docs.github.com/ko/rest)

_해당 게시글의 이미지는 ChatGPT의 도움을 받아 제작하였습니다._
